/*! karma-e2e-dsl - v0.3.0 - 2015-01-30 */define(["jquery","deferred","run","navigate-to"],function(a,b,c,d){function e(){return b(function(a){n.one("load",function(){a.resolve()}),f().prop("location").reload()})}function f(){return a(n.prop("contentWindow"))}function g(a,b){o++,setTimeout(function(){var b=l.pop();a(),l.push(b),0==--o&&c(l)},b)}function h(a){return[].slice.call(a,1)}function i(){return b(function(a){var b=h(arguments);n.one("load",function(){a.resolve.apply(a,b)})})}function j(a,c){return b(function(b){b.done(c),b.resolve(f().prop("location")[a])})}function k(a){return b(function(b){var c=h(arguments);setTimeout(function(){b.resolve.apply(b,c)},a)})}var l=[],m=null,n=a("#context"),o=0,p={navigateTo:function(a){l.push(d(a))},reload:function(){l.push(e())},delay:function(a,b){g(a,b)},sleep:function(a){l.push(k(a))},pause:function(){l.push(function(){return m=a.Deferred(),m.promise()})},resume:function(){m.resolve(),m=null},waitForPageLoad:function(){l.push(i())},window:{path:function(a){l.push(j("pathname",a))},href:function(a){l.push(j("href",a))},hash:function(a){l.push(j("hash",a))},search:function(a){l.push(j("search",a))}}};return p}),define(["jquery"],function(a){return function(b){return function(){var c=a.Deferred();return b&&b.apply(this,[c].concat([].slice.call(arguments))),c.promise()}}}),define(["element"],function(a){return a}),define(["jquery","run"],function(a,b){function c(b){return function(){var c=a.Deferred();return c.then(b),c.resolve(),c.promise()}}function d(a,b){return"undefined"!=typeof b&&(a.loadedDone&&a.pop(),a.push(c(b)),a.loadedDone=!0),a}var e=[],f=0;return function(a){return function(c){e=[],a(),d(e,c),0==f&&b(e)}}}),define(["jquery","deferred","navigate-to"],function(a,b,c){function d(){return a(t.prop("contentDocument"))}function e(){return a(t.prop("contentWindow"))}function f(a){var b=a.split("/");return b[b.length-1]}function g(a){var b=f(a);return a.substring(0,a.length-b.length)}function h(b){return function(){var c=a.Deferred();return c.resolve(d().find(b)),c.promise()}}function i(b,c,d){return function(e){var f=a.Deferred(),g=typeof d;return"undefined"!==g&&"function"!==g?(b(e),f.resolve(e)):(f.then(d),f.resolve(c(e))),f.promise()}}function j(a,b,c){return i(function(d){d[a](b,c)},function(c){return c[a](b)},c)}function k(a,b){return j("attr",a,b)}function l(a,b){return j("prop",a,b)}function m(a,b){return i(function(c){c[a](b)},function(b){return b[a]()},b)}function n(b){return i(function(c){void 0!==b.length?b:[b];c.find("option").each(function(){-1!=b.indexOf(a(this).val())&&a(this).prop("selected",!0)})},function(b){var c=[];return b.find("option:selected").each(function(){c.push(a(this).val())}),c.length>1?c:c[0]},b)}function o(a){return b(function(b,c){b.then(a),b.resolve(c)})}function p(c){return"undefined"==typeof c?l("checked",!0):b(function(b,d){d.each(function(b,d){a(d).val()==c&&a(d).prop("checked",!0)}),b.resolve()})}function q(b){return function(d){if("A"===d.prop("tagName")&&"click"===b){var f=e().prop("location").pathname,h=resolve(g(f),d.attr("href"));return c(h)()}var i=a.Deferred();return d.trigger(b),i.resolve(),i.promise()}}function r(a){return this&&this.constructor==r?void s.push(h(a)):new r(a)}var s=[],t=a("#context"),u={constructor:r,enter:function(a){s.push(k("value",a))},check:function(){s.push(l("checked",!0))},uncheck:function(){s.push(l("checked",!1))},select:function(a){s.push(p(a))},click:function(){s.push(q("click"))},isChecked:function(a){s.push(l("checked",a))},isSelected:function(a){s.push(l("checked",a))},isDisabled:function(a){s.push(l("disabled",a))},option:function(a){s.push(n(a))},options:function(){var a=[].slice.call(arguments);s.push(n(a.length>1?a:a[0]))},query:function(a){s.push(o(a))}};return a(["attr","prop","css"]).each(function(a,b){u[b]=function(a,c){s.push(j(b,a,c))}}),a(["val","text","count#size","html","height","innerHeight","outerHeight","width","innerWidth","outerWidth","position","scrollLeft","scrollTop","offset"]).each(function(a,b){var c=b.split("#");u[c[0]]=function(a){s.push(m(c[1]||c[0],a))}}),r.prototype=u,r}),define(["element"],function(a){return a}),define(["jquery","deferred"],function(a,b){var c=a("#context");return function(a){return b(function(b){c.one("load",function(){b.resolve()}),c.attr("src",a)})}}),define(["jquery"],function(a){return function b(c,d){var e=a.Deferred(),f=d||0,g=c[f],h=[].slice.call(arguments,2);return g?g.apply(g,h).then(function(){var a=[].slice.call(arguments);b.apply(this,[c,++f].concat(a))}):e.resolve(),e.promise()}});